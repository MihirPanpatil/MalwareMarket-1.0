import json
from pathlib import Path
from solders.keypair import Keypair # type: ignore

class SolanaKeyHandler:
    def __init__(self):
        self.keypair_path = Path('solana_keys/project_keypair.json')
        self.keypair = self.load_keypair()

    def load_keypair(self):
        with open(self.keypair_path, 'r') as f:
            keypair_bytes = json.load(f)
        return Keypair.from_bytes(bytes(keypair_bytes))

    def get_public_key(self):
        return self.keypair.pubkey()

    def sign_transaction(self, transaction):
        return self.keypair.sign_transaction(transaction)
